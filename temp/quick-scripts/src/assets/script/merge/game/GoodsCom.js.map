{"version":3,"sources":["assets/script/merge/game/GoodsCom.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAwD;AAGlD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;QAAA,qEAgEC;QA7DG,WAAK,GAAa,IAAI,CAAC;QAGvB,eAAS,GAAc,IAAI,CAAC;QAG5B,cAAQ,GAAa,IAAI,CAAC;QAG1B,gBAAU,GAAa,IAAI,CAAC;QAG5B,mBAAa,GAAa,IAAI,CAAC;QAG/B,aAAO,GAAY,IAAI,CAAC;QAExB,WAAW;QACX,SAAG,GAAW,CAAC,CAAC,CAAC;;IA2CrB,CAAC;IAxCG,sBAAI,+BAAS;QADb,cAAc;aACd;YACI,OAAO,yBAAW,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACvC,CAAC;;;OAAA;IAED,yBAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACnE,CAAC;IAED,uBAAI,GAAJ,UAAK,GAAW;QACZ,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,kCAAe,GAAf;QAAA,iBAeC;QAdG,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAEjC,IAAM,GAAG,GAAW,4BAA0B,SAAS,CAAC,EAAI,CAAC;QAC7D,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,WAAW,EAAE,CAAC,UAAC,GAAG,EAAE,WAA2B;YACrE,IAAI,GAAG,EAAE;gBACL,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;gBACpC,OAAO;aACV;YAED,KAAI,CAAC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;QAC7C,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,OAAK,SAAS,CAAC,MAAQ,CAAC;IACrD,CAAC;IAED,UAAU;IACV,2BAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;IAED,KAAK;IACL,wBAAK,GAAL;QACI,OAAO,CAAC,GAAG,CAAC,qCAAe,IAAI,CAAC,SAAS,CAAC,IAAM,CAAC,CAAC;IACtD,CAAC;IA5DD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;2CACI;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACO;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACS;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACY;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACM;IAlBP,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAgE5B;IAAD,eAAC;CAhED,AAgEC,CAhEqC,EAAE,CAAC,SAAS,GAgEjD;kBAhEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import { goodsModule } from \"../dataModule/GoodsModule\";\nimport { GoodsType } from \"../manager/Define\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GoodsCom extends cc.Component {\n\n    @property(cc.Label)\n    label: cc.Label = null;\n\n    @property(cc.Sprite)\n    uImgGoods: cc.Sprite = null;\n\n    @property(cc.Label)\n    ulblName: cc.Label = null;\n\n    @property(cc.Label)\n    ulblFlower: cc.Label = null;\n\n    @property(cc.Label)\n    ulblInventory: cc.Label = null;\n\n    @property(cc.Node)\n    uBtnGet: cc.Node = null;\n\n    // 商品列表中的索引\n    idx: number = -1;\n\n    // 当前最新的商品信息状态\n    get goodsData(): GoodsType {\n        return goodsModule.goods[this.idx];\n    }\n\n    onLoad() {\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onSelect, this);\n        this.uBtnGet.on(cc.Node.EventType.TOUCH_END, this.onGet, this);\n    }\n\n    init(idx: number): void {\n        this.idx = idx;\n        this.formatGoodsInfo();\n    }\n\n    formatGoodsInfo(): void {\n        const goodsInfo = this.goodsData;\n\n        const url: string = `images/goods/img_goods_${goodsInfo.id}`;\n        cc.resources.load(url, cc.SpriteFrame, ((err, spriteFrame: cc.SpriteFrame) => {\n            if (err) {\n                console.error('url:', url, '/err:');\n                return;\n            }\n\n            this.uImgGoods.spriteFrame = spriteFrame;\n        }));\n\n        this.ulblName.string = goodsInfo.name;\n        this.ulblFlower.string = `x ${goodsInfo.flower}`;\n    }\n\n    // 展示商品详情页\n    onSelect() {\n        console.log('[DEBUG] 显示商品详情', this.goodsData);\n    }\n\n    // 兑换\n    onGet(): void {\n        console.log(`[DEBUG] 兑换商品${this.goodsData.name}`);\n    }\n}\n"]}