{"version":3,"sources":["assets/script/merge/zyxGame/ZyxGame.ts"],"names":[],"mappings":"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CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAA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","file":"","sourceRoot":"/","sourcesContent":["import { playerModule } from \"../dataModule/PlayerModule\";\nimport { zyxGameModule } from \"../dataModule/ZyxGameModule\";\nimport { gridContentType } from \"../define/TypeDefine\";\nimport { audioMgr, SHAKE_TYPE, SoundType } from \"../manager/AudioMgr\";\nimport { EventType } from \"../manager/Define\";\nimport { uimanager } from \"../manager/Uimanager\";\nimport { eventManager } from \"../util/EventManager\";\nimport { wxApiManager } from \"../util/WxApiManager\";\nimport ZyxGridCom from \"./ZyxGridCom\";\nimport ZyxLineCom from \"./ZyxLineCom\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n// 游戏主玩法场景\n@ccclass\nexport default class ZyxGame extends cc.Component {\n\n    @property(cc.Label)\n    ulblScore: cc.Label = null;\n\n    @property(cc.Label)\n    ulblMaxScore: cc.Label = null;\n\n    @property(cc.Label)\n    ulblDiamond: cc.Label = null;\n\n    @property(cc.Label)\n    ulblStarCnt: cc.Label = null;\n\n    @property(cc.Label)\n    ulblHammerCnt: cc.Label = null;\n\n    @property(cc.Label)\n    ulblBombCnt: cc.Label = null;\n\n    @property(cc.Label)\n    ulblAdCnt: cc.Label = null;\n\n    @property(cc.Node)\n    uImgStarBar: cc.Node = null;\n\n    @property(cc.Node)\n    uBtnHammer: cc.Node = null;\n\n    @property(cc.Node)\n    uBtnBomb: cc.Node = null;\n\n    @property(cc.Node)\n    uBtnClean: cc.Node = null;\n\n    @property(cc.Node)\n    uBoxGrid: cc.Node = null;\n\n    @property(cc.Node)\n    uBoxNew: cc.Node = null;\n\n    private grids: cc.Node[] = [];\n\n    // 掉落发生情况（掉落需要自底向上检测，一轮检测后再检测下一轮，直到最终可以发生掉落的情况全部检测完毕）\n    private hasDropAction: boolean = false;\n\n    // 是否已经生产了新的 - 防止进行无限循环生成和检测\n    private hasProduce: boolean = false;\n\n    // 格子掉落时间\n    private timeGridDrop: number = 0.2;\n    private timeWaitDrop: number = 600;\n    private timeShowNewGrids: number = 0.44;\n\n    // star bar totalLength\n    private starBarLength: number = 500;\n    // \n    private starMeasures: number = 10;\n\n    onLoad() {\n        this.uBtnClean.on(cc.Node.EventType.TOUCH_END, this.test, this);\n        this.uBtnBomb.on(cc.Node.EventType.TOUCH_END, this.useBomb, this);\n        this.uBtnHammer.on(cc.Node.EventType.TOUCH_END, this.useHammer, this);\n\n        eventManager.on(EventType.ZYX_CHECK_MERGE, this.check, this);\n        eventManager.on(EventType.ZYX_RESET_GAME, this.resetGame, this);\n\n        this.initUI();\n    }\n\n    start() {\n\n    }\n\n    resetGame(): void {\n        zyxGameModule.gridInfo = [\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[0, 0, 0], [0, 0, 0], [3, 1, 1], [3, 1, 1], [3, 1, 1], [0, 0, 0], [0, 0, 0], [0, 0, 0]],\n            [[1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 1, 5], [1, 1, 6], [1, 1, 7], [1, 1, 8], [0, 0, 0]],\n        ]\n        zyxGameModule.gameInfo = {\n            score: 0,\n            star: 0,\n            diamond: 0,\n            adTimes: 3,\n            exp: 0,\n            uniqueId: 9,\n        }\n\n        this.updateNextGrid();\n\n        this.hasProduce = false;\n        zyxGameModule.selectGirdUniqueId = -1;\n\n        this.initUI();\n\n        console.log('gridInfo: ', zyxGameModule.gridInfo);\n    }\n\n    initUI(): void {\n        this.ulblScore.string = `${zyxGameModule.gameInfo.score}`;\n        this.ulblMaxScore.string = `BEST：${zyxGameModule.scoreRecord}`;\n        this.ulblMaxScore.node.active = zyxGameModule.scoreRecord > 0;\n        this.ulblDiamond.string = `${zyxGameModule.gameInfo.diamond}`;\n        this.ulblStarCnt.string = `${zyxGameModule.gameInfo.star}`;\n        this.ulblAdCnt.string = `(${zyxGameModule.gameInfo.adTimes})`;\n        this.ulblHammerCnt.string = `x${playerModule.hammer}`;\n        this.ulblBombCnt.string = `x${playerModule.bomb}`;\n        this.uImgStarBar.width = zyxGameModule.gameInfo.score % this.starMeasures * this.starBarLength / this.starMeasures;\n\n        this.initChessBoard();\n\n        setTimeout(() => {\n            audioMgr.playBGM(SoundType.ZYX_MUSIC_GAME);\n        }, 1000);\n    }\n\n    // 初始化棋盘信息\n    async initChessBoard() {\n        this.uBoxGrid.destroyAllChildren();\n        this.grids = [];\n\n        for (let row = 0; row < zyxGameModule.gridInfo.length; row++) {\n            for (let col = 0; col < zyxGameModule.gridInfo[row].length; col++) {\n                if (col === 0) {\n                    if (zyxGameModule.gridInfo[row][col][1] !== gridContentType.EMPTY) {\n                        const grid = await this.produceGrid(zyxGameModule.gridInfo[row][col]);\n                        this.uBoxGrid.addChild(grid);\n                        grid.setPosition(new cc.Vec2(zyxGameModule.gridsWidth * col, zyxGameModule.gridsWidth * (10 - row) - zyxGameModule.gridsWidth));\n                        grid.getComponent(ZyxGridCom).setRowCel(row, col);\n                        this.grids.push(grid);\n                    }\n                } else if (zyxGameModule.gridInfo[row][col][1] != gridContentType.EMPTY && zyxGameModule.gridInfo[row][col][2] !== zyxGameModule.gridInfo[row][col - 1][2]) {\n                    const grid = await this.produceGrid(zyxGameModule.gridInfo[row][col]);\n                    this.uBoxGrid.addChild(grid);\n                    grid.setPosition(new cc.Vec2(zyxGameModule.gridsWidth * col, zyxGameModule.gridsWidth * (10 - row) - zyxGameModule.gridsWidth));\n                    grid.getComponent(ZyxGridCom).setRowCel(row, col);\n                    this.grids.push(grid);\n                }\n            }\n        }\n    }\n\n    // 加载下一行\n    loadNext() {\n        this.moveUp();\n\n        this.produceRow();\n    }\n\n    // 生成新的一行\n    async produceRow() {\n        // 剔除顶部空余的一行\n        zyxGameModule.gridInfo.shift();\n\n        // 将新的一排的数据进行拷贝并使用\n        const newData = zyxGameModule.copyNewGridData();\n\n        zyxGameModule.gridInfo.push(newData);\n        for (let i = 0; i < 8; i++) {\n            const row = 9;\n            if (i === 0) {\n                if (zyxGameModule.gridInfo[row][i][1] !== gridContentType.EMPTY) {\n                    const grid = await this.produceGrid(zyxGameModule.gridInfo[row][i]);\n                    this.uBoxGrid.addChild(grid);\n                    grid.setPosition(new cc.Vec2(zyxGameModule.gridsWidth * i, -84));\n                    grid.getComponent(ZyxGridCom).setRowCel(row, i);\n                    this.grids.push(grid);\n                }\n            } else if (zyxGameModule.gridInfo[row][i][1] != gridContentType.EMPTY && zyxGameModule.gridInfo[row][i][2] !== zyxGameModule.gridInfo[row][i - 1][2]) {\n                const grid = await this.produceGrid(zyxGameModule.gridInfo[row][i]);\n                this.uBoxGrid.addChild(grid);\n                grid.setPosition(new cc.Vec2(zyxGameModule.gridsWidth * i, -84));\n                grid.getComponent(ZyxGridCom).setRowCel(row, i);\n                this.grids.push(grid);\n            }\n        }\n\n        // 展示新格子\n        this.showNewGrids();\n    }\n\n    // 生成格子\n    async produceGrid(gridInfo: number[]) {\n        const grid = await uimanager.loadPrefab('prefab/zyx/uComGrid');\n        const gridNode = cc.instantiate(grid);\n        gridNode.getComponent(ZyxGridCom).init(gridInfo);\n        return gridNode;\n    }\n\n    // 展示新格子\n    showNewGrids(): void {\n        let showEnding: boolean = false;\n        for (let i = 0; i < this.grids.length; i++) {\n            const grid = this.grids[i];\n            if (grid.y !== -84) continue;\n            cc.tween(grid)\n                .to(this.timeShowNewGrids, { y: grid.y + 84 }, { easing: 'cubicInOut' })\n                .call(() => {\n                    if (showEnding) return;\n                    showEnding = true;\n\n                    // 下一排展示完成，开始检测是否可以进行合成\n                    this.check();\n                })\n                .start();\n        }\n\n        this.updateNextGrid();\n    }\n\n    // 生成之前，先上移\n    moveUp(): void {\n        for (let i = 0; i < this.grids.length; i++) {\n            const grid = this.grids[i];\n            cc.tween(grid)\n                .to(this.timeShowNewGrids, { y: grid.y + 84 }, { easing: 'cubicInOut' })\n                .start();\n\n            grid.getComponent(ZyxGridCom).moveUp();\n        }\n    }\n\n    // 刷新下一层格子的信息\n    async updateNextGrid() {\n        // 数据刷新\n        zyxGameModule.produce();\n\n        // 展示刷新\n        this.uBoxNew.destroyAllChildren();\n        for (let i = 0; i < 8; i++) {\n            if (i === 0) {\n                if (zyxGameModule.nextGridInfo[i][1] !== gridContentType.EMPTY) {\n                    const line = await this.produceNewLine(zyxGameModule.nextGridInfo[i][0]);\n                    this.uBoxNew.addChild(line);\n                    line.setPosition(new cc.Vec2(zyxGameModule.gridsWidth * i, 0));\n                }\n            } else if (zyxGameModule.nextGridInfo[i][1] != gridContentType.EMPTY && zyxGameModule.nextGridInfo[i][2] !== zyxGameModule.nextGridInfo[i - 1][2]) {\n                const line = await this.produceNewLine(zyxGameModule.nextGridInfo[i][0]);\n                this.uBoxNew.addChild(line);\n                line.setPosition(new cc.Vec2(zyxGameModule.gridsWidth * i, 0));\n            }\n        }\n    }\n\n    async produceNewLine(size: number) {\n        const line = await uimanager.loadPrefab('prefab/zyx/uComNextLine');\n        const node = cc.instantiate(line);\n        node.getComponent(ZyxLineCom).setW(size * zyxGameModule.gridsWidth);\n        return node;\n    }\n\n    // 循环检测是否可以掉落和消除\n    check(): void {\n        this.drop(9);\n    }\n\n    // 进行合成操作 - 合成操作是一轮消除检测的最后一个动作\n    merge(): void {\n        let mergeTimes = 0;\n        // 检测每一行是否有可以消除的格子\n        for (let row = 0; row < zyxGameModule.gridInfo.length; row++) {\n            const rowData = zyxGameModule.gridInfo[row];\n            let hasEmptyGrid = false;\n            for (let j = 0; j < rowData.length; j++) {\n                if (rowData[j][1] === gridContentType.EMPTY) {\n                    hasEmptyGrid = true;\n                    break;\n                }\n            }\n\n            // 如果没有空格子，那就可以进行消除\n            const uniqueIds = [];\n            if (!hasEmptyGrid) {\n                mergeTimes++;\n                for (let j = 0; j < rowData.length; j++) {\n                    if (uniqueIds.indexOf(rowData[j][2]) === -1 && rowData[j][2] !== 0) {\n                        uniqueIds.push(rowData[j][2]);\n                    }\n\n                    zyxGameModule.gridInfo[row][j] = [0, 0, 0];\n                }\n            }\n\n            // 消除\n            for (let i = 0; i < uniqueIds.length; i++) {\n                const uniqueId = uniqueIds[i];\n                this.eliminateGrid(uniqueId);\n            }\n        }\n\n        if (mergeTimes > 0) {\n            uimanager.showTips('發生消除，持续下一轮检测');\n            audioMgr.shake(SHAKE_TYPE.HEAVY);\n            this.addScore(mergeTimes);\n            this.check();\n        } else {\n            const isGameOver = this.checkGameOver();\n            const isGridEmpty = this.checkGridEmpty();\n\n            if (isGameOver) return;\n\n            if (!this.hasProduce) {\n                // 没有可以进行消除的了，并且还未展示新生成的一排，则展示下一排\n                this.hasProduce = true;\n                this.loadNext();\n                uimanager.showTips('展示下一行');\n            } else if (isGridEmpty) {\n                // 新生成的已经展示了，且没有可合成，且场上没有棋子\n                this.hasProduce = true;\n                this.loadNext();\n                uimanager.showTips('棋盘为空，展示下一行');\n            } else {\n                // 新生成的一排已经展示过了，且已经没有可合成，且场上还有棋子\n                this.hasProduce = false;\n                zyxGameModule.selectGirdUniqueId = -1;\n                console.log('action over:', zyxGameModule.gridInfo);\n            }\n        }\n    }\n\n    // 当前场景中是否已经为空\n    checkGridEmpty(): boolean {\n        let isEmpty = true;\n        for (let i = 0; i < zyxGameModule.gridInfo[9].length; i++) {\n            const gridData = zyxGameModule.gridInfo[9][i];\n            if (gridData[1] !== gridContentType.EMPTY) {\n                isEmpty = false;\n                break;\n            }\n        }\n        return isEmpty;\n    }\n\n    // 消除\n    eliminateGrid(uniqueID: number): void {\n        for (let i = 0; i < this.grids.length; i++) {\n            if (this.grids[i].getComponent(ZyxGridCom).uniqueId === uniqueID) {\n                console.log('消除', uniqueID);\n                this.collectGoods(this.grids[i].getComponent(ZyxGridCom).contentType);\n                this.grids[i].getComponent(ZyxGridCom).eliminate();\n                this.grids.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    collectGoods(contentType): void {\n        if (contentType === gridContentType.DIAMOND) {\n            this.addDimaond();\n        }\n    }\n\n    // 检测当前行的上一行是否有掉落情况，如果有则进行掉落操作\n    drop(row): void {\n        if (row === 9) {\n            this.hasDropAction = false;\n        }\n\n        if (row === 0) {\n            if (this.hasDropAction) {\n                console.log('持续掉落检测');\n                audioMgr.playSound(SoundType.ZYX_DROP);\n                this.check();\n            } else {\n                setTimeout(() => {\n                    this.merge();\n                }, this.timeWaitDrop);\n            }\n            return;\n        }\n\n        for (let col = 0; col < 8; col++) {\n            if (zyxGameModule.gridInfo[row][col][1] === gridContentType.EMPTY && zyxGameModule.gridInfo[row - 1][col][1] !== gridContentType.EMPTY) {\n                // 检测是否可以掉落\n                const hasDrop = this.dropGrid(row - 1, col);\n                if (hasDrop) {\n                    this.hasDropAction = true;\n                }\n                continue;\n            }\n        }\n\n        this.drop(row - 1);\n    }\n\n    dropGrid(row: number, col: number): boolean {\n        // 检测对应的空格子是否可以容纳掉下来的格子类型\n        const uniqueID = zyxGameModule.gridInfo[row][col][2];\n        const checkCols = [];\n        for (let i = 0; i < 8; i++) {\n            if (zyxGameModule.gridInfo[row][i][2] === uniqueID) {\n                checkCols.push(i);\n            }\n        }\n\n        let canDrop = true;\n        for (let i = 0; i < checkCols.length; i++) {\n            const col = checkCols[i];\n            if (zyxGameModule.gridInfo[row + 1][col][1] !== gridContentType.EMPTY) {\n                canDrop = false;\n                return false;\n            }\n        }\n\n        // 如果可以掉落，那就将数据进行交换，同时更新格子的自身属性和位置信息\n        for (let i = 0; i < checkCols.length; i++) {\n            const col = checkCols[i];\n            zyxGameModule.gridInfo[row + 1][col][0] = zyxGameModule.gridInfo[row][col][0];\n            zyxGameModule.gridInfo[row + 1][col][1] = zyxGameModule.gridInfo[row][col][1];\n            zyxGameModule.gridInfo[row + 1][col][2] = zyxGameModule.gridInfo[row][col][2];\n\n            zyxGameModule.gridInfo[row][col][0] = 0;\n            zyxGameModule.gridInfo[row][col][1] = gridContentType.EMPTY;\n            zyxGameModule.gridInfo[row][col][2] = 0;\n        }\n\n        console.log('掉落:', uniqueID);\n\n        for (let i = 0; i < this.grids.length; i++) {\n            const grid = this.grids[i];\n            if (grid.getComponent(ZyxGridCom).uniqueId === uniqueID) {\n                grid.getComponent(ZyxGridCom).moveDown();\n                const tarY = zyxGameModule.gridsWidth * (10 - row - 1) - zyxGameModule.gridsWidth;\n                cc.tween(grid)\n                    .to(this.timeGridDrop, { y: tarY }, { easing: 'quartIn' })\n                    .start();\n            }\n        }\n\n        return canDrop;\n    }\n\n    // 检验是否结束\n    checkGameOver(): boolean {\n        if (zyxGameModule.checkGameOver()) {\n            uimanager.showGameOver();\n            audioMgr.stopBGM();\n            audioMgr.shake(SHAKE_TYPE.HEAVY);\n            audioMgr.playSound(SoundType.ZYX_END);\n            return true;\n        }\n        return false;\n    }\n\n    // 加分\n    addScore(score: number): void {\n        // 当前分数\n        zyxGameModule.gameInfo.score += score;\n        this.ulblScore.string = zyxGameModule.gameInfo.score.toString();\n\n        // 最高分更新\n        if (zyxGameModule.gameInfo.score >= zyxGameModule.scoreRecord) {\n            zyxGameModule.scoreRecord = zyxGameModule.gameInfo.score;\n            this.ulblMaxScore.string = `BEST：${zyxGameModule.scoreRecord}`;\n            this.ulblMaxScore.node.active = true;\n        }\n\n        // 星星\n        const tarW = zyxGameModule.gameInfo.score % this.starMeasures * this.starBarLength / this.starMeasures;\n        cc.tween(this.uImgStarBar)\n            .to(0.5, { width: tarW })\n            .start();\n        if (tarW === 0) {\n            // 星星数量+1   \n            zyxGameModule.gameInfo.star += 1;\n            this.ulblStarCnt.string = zyxGameModule.gameInfo.star.toString();\n        }\n\n    }\n\n    // 加钻\n    addDimaond(): void {\n        zyxGameModule.gameInfo.diamond += 1;\n        this.ulblDiamond.string = zyxGameModule.gameInfo.diamond.toString();\n    }\n\n    test(): void {\n        console.log(zyxGameModule.gridInfo);\n        uimanager.showTips('分享');\n        wxApiManager.share();\n    }\n\n    // 使用炸弹\n    useBomb(): void {\n        uimanager.showTips('使用炸弹');\n        wxApiManager.share();\n    }\n\n    // 使用卡皮巴拉\n    useHammer():void {\n        uimanager.showTips('使用卡皮巴拉');\n        wxApiManager.share();\n    }\n\n}\n"]}