{"version":3,"sources":["assets/script/merge/game/MergeScene.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2DAA0D;AAC1D,mDAA6C;AAC7C,gDAA0D;AAC1D,kDAAiD;AACjD,qDAAoD;AAE9C,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAwC,8BAAY;IAApD;QAAA,qEA4DC;QAzDG,eAAS,GAAY,IAAI,CAAC;;IAyD9B,CAAC;IAvDG,2BAAM,GAAN;QACI,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/B,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;IAClC,CAAC;IAED,0BAAK,GAAL;QAAA,iBAeC;QAdG,UAAU;QACV,qBAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE1B,QAAQ;QACR,2BAAY,CAAC,KAAK,CAAC;YACf,QAAQ;YACR,mBAAQ,CAAC,IAAI,EAAE,CAAC;YAEhB,UAAU;YACV,KAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC,CAAC,CAAA;QAEF,2BAAY,CAAC,MAAM,EAAE,CAAC;QACtB,2BAAY,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;IAED,2BAAM,GAAN;QACI,qBAAS,CAAC,eAAe,EAAE,CAAC;IAChC,CAAC;IAED,4BAAO,GAAP;QACI,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAGD,aAAa;IACb,2BAAM,GAAN;QACI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAEK,+BAAU,GAAhB;;;;;4BACmB,qBAAM,qBAAS,CAAC,UAAU,CAAC,oBAAoB,CAAC,EAAA;;wBAAzD,MAAM,GAAG,SAAgD;wBACzD,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;wBACvC,qBAAS,CAAC,GAAG,CAAC,OAAO,EAAE,kBAAK,CAAC,EAAE,CAAC,CAAC;wBACjC,OAAO,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;;;;KAC1C;IAED,UAAU;IACJ,kCAAa,GAAnB;;;;;;wBACI,mBAAQ,CAAC,SAAS,CAAC,oBAAS,CAAC,QAAQ,CAAC,CAAC;wBACxB,qBAAM,qBAAS,CAAC,UAAU,CAAC,mBAAmB,CAAC,EAAA;;wBAAxD,MAAM,GAAG,SAA+C;wBACxD,QAAQ,GAAY,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;wBACjD,qBAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,kBAAK,CAAC,EAAE,CAAC,CAAC;wBAClC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;;;;KAC3C;IAtDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACQ;IAHT,UAAU;QAD9B,OAAO;OACa,UAAU,CA4D9B;IAAD,iBAAC;CA5DD,AA4DC,CA5DuC,EAAE,CAAC,SAAS,GA4DnD;kBA5DoB,UAAU;AA8D/B;;;;;;;;;;;;;;;;;;;;;GAqBG","file":"","sourceRoot":"/","sourcesContent":["import { playerModule } from '../dataModule/PlayerModule';\nimport { LAYER } from '../define/TypeDefine';\nimport { audioMgr, SoundType } from '../manager/AudioMgr';\nimport { uimanager } from '../manager/Uimanager';\nimport { wxApiManager } from '../util/WxApiManager';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class MergeScene extends cc.Component {\n\n    @property(cc.Node)\n    uBtnStart: cc.Node = null;\n\n    onLoad() {\n        console.log('load mergeScene');\n        this.uBtnStart.on(cc.Node.EventType.TOUCH_END, this.onStart, this);\n        this.uBtnStart.active = false;\n    }\n\n    start() {\n        // 初始化界面层级\n        uimanager.init(this.node);\n\n        // login\n        playerModule.login(() => {\n            // 初始化音频\n            audioMgr.init();\n\n            // 初始化界面UI\n            this.initUI();\n        })\n\n        wxApiManager.onShow();\n        wxApiManager.onHide();\n    }\n\n    update() {\n        uimanager.udpateLayerShow();\n    }\n\n    onStart(): void {\n        this.initGamePanel();\n    }\n\n\n    // 初始化游戏主场景信息\n    initUI(): void {\n        this.uBtnStart.active = true;\n        this.initTopCom();\n    }\n\n    async initTopCom() {\n        const topPre = await uimanager.loadPrefab('prefab/zyx/uComTop');\n        const topNode = cc.instantiate(topPre);\n        uimanager.add(topNode, LAYER.UI);\n        topNode.setPosition(new cc.Vec2(0, 0));\n    }\n\n    // 初始化游戏界面\n    async initGamePanel() {\n        audioMgr.playSound(SoundType.ZYX_DROP);\n        const prefab = await uimanager.loadPrefab('prefab/merge/game');\n        const gameNode: cc.Node = cc.instantiate(prefab);\n        uimanager.add(gameNode, LAYER.UI);\n        gameNode.setPosition(new cc.Vec2(0, 0));\n    }\n\n\n}\n\n/**\n *      1、合成数字15获得1个星星，顶部显示当前星星持有总数；\n *          当合成8之前，每次发放5个，类型为2个，数字区间固定在1~7之间；\n *          当合成8之后，每次发放6个，类型为3个，数字区间固定在min~7之间；\n *          当合成10之后，每次发放7个，类型为4个，数字区间固定在min~8之间；\n *          当合成12之后，每次发放10个，类型为5个，数字区间固定在min~10之间；\n *\n *          防作弊：\n *          当今日全服合成星星总数量 > 100 || 当人单日合成总星星 > 5， 合成12后，每次发放15个，类型为7个，数字区间min~10;(趋近于无法继续达成，控制放出总量);\n *\n *\n *      2、清理规则\n *          每局可以免费整理一次；\n *          每局可以通过分享功能一次整理；\n *          每局可以通过看视频完成一次整理；\n *          以上所有方式用过后，还可以通过刷新道具整理；\n *          刷新道具可以通过邀请获得，每邀请1个人，赠送一个刷新道具，刷新道具也可以通过星星兑换获得；\n *      7、商品清单滚动播放：4个刷新道具需要1个星星、1箱金典牛奶29个星星，1包心相印湿巾需要5个星星，1本DK百科全书30个星星...商品横向滚动展示清单最右侧保留“更多奖励”按钮；\n *      8、选择实物兑换后，兑换页面填写“收件人、收件地址、联系方式”，并在确认兑换前，弹出确认收货信息的确认单以及不退不换的声明；\n *      9、添加规则页面，规则页面添加免责声明，以及不退换声明；\n *      10、添加历史星星总获得数排行榜；\n */\n"]}